<div class="dashboard-wrapper">
<app-header2></app-header2>

<div class="dashboard-container">
    <aside class="sidebar">
      <div class="user-info">
        <h2>Bienvenido</h2>
        <p>[Nombre de usuario]</p>
      </div>

      <ul class="menu">
        <li><a routerLink="/principal" routerLinkActive="active"><i class="fas fa-tachometer-alt"></i> Panel Principal</a></li>
        <li><a routerLink="/empresa"><i class="fas fa-building"></i> Empresa</a></li>
        <li><a routerLink="/ingresos"><i class="fas fa-chart-line"></i> Ingresos</a></li>
        <li><a routerLink="/egresos"><i class="fas fa-arrow-circle-down"></i> Egresos</a></li>
        <li><a routerLink="/"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a></li>
      </ul>
    </aside>

    <main class="main-content">
      <div class="form-container">
        <div class="form-card">
          <h1 class="form-title">SAVE WITH US</h1>
          <h2>Registrar Indicadores Financieros</h2>

          <form class="form" (ngSubmit)="registrarIndicadores()">
            <!-- Mensaje de error general -->
            @if (formError) {
            <div class="alert alert-danger">
              {{ formError }}
            </div>
            }

            <!-- INDICADOR DE APALANCAMIENTO -->
            <div class="section-title">
              <h3>Indicador De Apalancamiento</h3>
              <p class="subtitle">Por Favor Complete Los Datos Financieros</p>
            </div>

            <div class="section-subtitle">Capacidad De Endeudamiento</div>

            <div class="form-group">
              <label for="pasivosTotal">Pasivos Totales</label>
              <input type="number" id="pasivosTotal" name="pasivosTotal" class="form-control" 
                     [(ngModel)]="pasivosTotal" placeholder="Ingresa el valor de pasivos totales" min="0">
            </div>

            <div class="form-group">
              <label for="activosTotal">Activos Totales</label>
              <input type="number" id="activosTotal" name="activosTotal" class="form-control" 
                     [(ngModel)]="activosTotal" placeholder="Ingresa el valor de activos totales" min="0">
            </div>

            <div class="section-subtitle">Razón De Deuda A Patrimonio</div>

            <div class="form-group">
              <label for="deudaTotal">Deuda Total</label>
              <input type="number" id="deudaTotal" name="deudaTotal" class="form-control" 
                     [(ngModel)]="deudaTotal" placeholder="Ingresa la deuda total" min="0">
            </div>

            <div class="form-group">
              <label for="patrimonioTotal">Patrimonio Total</label>
              <input type="number" id="patrimonioTotal" name="patrimonioTotal" class="form-control" 
                     [(ngModel)]="patrimonioTotal" placeholder="Ingresa el patrimonio total" min="0">
            </div>

            <!-- INDICADOR DE EFICIENCIA -->
            <div class="section-title">
              <h3>Indicador De Eficiencia</h3>
              <p class="subtitle">Por Favor Complete Los Siguientes Campos</p>
            </div>

            <div class="section-subtitle">Índice De Rotación De Activos</div>

            <div class="form-group">
              <label for="ventasNetas">Ventas Netas</label>
              <input type="number" id="ventasNetas" name="ventasNetas" class="form-control" 
                     [(ngModel)]="ventasNetas" placeholder="Ingresa las ventas netas" min="0">
            </div>

            <div class="form-group">
              <label for="activoTotalPromedio">Activo Total Promedio</label>
              <input type="number" id="activoTotalPromedio" name="activoTotalPromedio" class="form-control" 
                     [(ngModel)]="activoTotalPromedio" placeholder="Ingresa el activo total promedio" min="0">
            </div>

            <div class="form-group">
              <label for="fechaEficiencia">Fecha</label>
              <input type="date" id="fechaEficiencia" name="fechaEficiencia" class="form-control" 
                     [(ngModel)]="fechaEficiencia" placeholder="DD/MM/AAAA">
            </div>

            <div class="section-subtitle">Rotación De Inventario</div>

            <div class="form-group">
              <label for="costosBienesVendidos">Costo De Bienes Vendidos</label>
              <input type="number" id="costosBienesVendidos" name="costosBienesVendidos" class="form-control" 
                     [(ngModel)]="costosBienesVendidos" placeholder="Ingresa el costo de bienes vendidos" min="0">
            </div>

            <div class="form-group">
              <label for="valorPromedioInventario">Valor Promedio De Inventario</label>
              <input type="number" id="valorPromedioInventario" name="valorPromedioInventario" class="form-control" 
                     [(ngModel)]="valorPromedioInventario" placeholder="Ingresa el valor promedio de inventario" min="0">
            </div>

            <div class="section-subtitle">Índice De Rotación De Cuenta Por Cobrar</div>

            <div class="form-group">
              <label for="ventasNetasCreditos">Ventas Netas A Créditos</label>
              <input type="number" id="ventasNetasCreditos" name="ventasNetasCreditos" class="form-control" 
                     [(ngModel)]="ventasNetasCreditos" placeholder="Ingresa las ventas netas a créditos" min="0">
            </div>

            <!-- INDICADOR DE RENTABILIDAD -->
            <div class="section-title">
              <h3>Indicador De Rentabilidad</h3>
              <p class="subtitle">Por Favor Complete Los Siguientes Campos</p>
            </div>

            <div class="section-subtitle">Margen Brutos</div>

            <div class="form-group">
              <label for="ventasNetasRentabilidad">Ventas Netas</label>
              <input type="number" id="ventasNetasRentabilidad" name="ventasNetasRentabilidad" class="form-control" 
                     [(ngModel)]="ventasNetasRentabilidad" placeholder="Ingresa las ventas netas" min="0">
            </div>

            <div class="form-group">
              <label for="beneficioBruto">Beneficio Bruto</label>
              <input type="number" id="beneficioBruto" name="beneficioBruto" class="form-control" 
                     [(ngModel)]="beneficioBruto" placeholder="Ingresa el beneficio bruto" min="0">
            </div>

            <div class="form-group">
              <label for="fechaRentabilidad">Fecha</label>
              <input type="date" id="fechaRentabilidad" name="fechaRentabilidad" class="form-control" 
                     [(ngModel)]="fechaRentabilidad" placeholder="DD/MM/AAAA">
            </div>

            <div class="section-subtitle">Margen Operativo</div>

            <div class="form-group">
              <label for="ventasNetasOperativo">Ventas Netas</label>
              <input type="number" id="ventasNetasOperativo" name="ventasNetasOperativo" class="form-control" 
                     [(ngModel)]="ventasNetasOperativo" placeholder="Ingresa las ventas netas" min="0">
            </div>

            <div class="form-group">
              <label for="utilidadOperativa">Utilidad Operativa</label>
              <input type="number" id="utilidadOperativa" name="utilidadOperativa" class="form-control" 
                     [(ngModel)]="utilidadOperativa" placeholder="Ingresa la utilidad operativa" min="0">
            </div>

            <div class="form-group">
              <label for="fechaOperativo">Fecha</label>
              <input type="date" id="fechaOperativo" name="fechaOperativo" class="form-control" 
                     [(ngModel)]="fechaOperativo" placeholder="DD/MM/AAAA">
            </div>

            <div class="section-subtitle">ROA</div>

            <div class="form-group">
              <label for="utilidadNeta">Utilidad Neta</label>
              <input type="number" id="utilidadNeta" name="utilidadNeta" class="form-control" 
                     [(ngModel)]="utilidadNeta" placeholder="Ingresa la utilidad neta" min="0">
            </div>

            <!-- INDICADOR DE LIQUIDEZ -->
            <div class="section-title">
              <h3>Indicador De Liquidez</h3>
              <p class="subtitle">Por Favor Complete Los Datos Financieros</p>
            </div>

            <div class="section-subtitle">Ratio De Caja</div>

            <div class="form-group">
              <label for="efectivoDisponible">Efectivo Disponible</label>
              <input type="number" id="efectivoDisponible" name="efectivoDisponible" class="form-control" 
                     [(ngModel)]="efectivoDisponible" placeholder="Ingresa el efectivo disponible" min="0">
            </div>

            <div class="form-group">
              <label for="pasivoCorriente">Pasivo Corriente</label>
              <input type="number" id="pasivoCorriente" name="pasivoCorriente" class="form-control" 
                     [(ngModel)]="pasivoCorriente" placeholder="Ingresa el pasivo corriente" min="0">
            </div>

            <div class="form-group">
              <label for="fechaLiquidez">Fecha</label>
              <input type="date" id="fechaLiquidez" name="fechaLiquidez" class="form-control" 
                     [(ngModel)]="fechaLiquidez" placeholder="DD/MM/AAAA">
            </div>

            <!-- INDICADOR DE VALOR DE MERCADO -->
            <div class="section-title">
              <h3>Indicador De Valor De Mercado</h3>
              <p class="subtitle">Por Favor Complete Los Datos Financieros</p>
            </div>

            <div class="section-subtitle">Relación Precio Beneficio</div>

            <div class="form-group">
              <label for="precioAccion">Precio De La Acción</label>
              <input type="number" id="precioAccion" name="precioAccion" class="form-control" 
                     [(ngModel)]="precioAccion" placeholder="Ingresa el precio de la acción" min="0" step="0.01">
            </div>

            <div class="form-group">
              <label for="beneficioPorAccion">Beneficio Por Acción</label>
              <input type="number" id="beneficioPorAccion" name="beneficioPorAccion" class="form-control" 
                     [(ngModel)]="beneficioPorAccion" placeholder="Ingresa el beneficio por acción" min="0" step="0.01">
            </div>

            <div class="form-group">
              <label for="fechaMercado">Fecha</label>
              <input type="date" id="fechaMercado" name="fechaMercado" class="form-control" 
                     [(ngModel)]="fechaMercado" placeholder="DD/MM/AAAA">
            </div>

            <button type="submit" class="submit-button">Registrar Indicadores</button>

            <!-- Modal de Registro Exitoso -->
            @if (registroExitoso) {
            <div class="modal-backdrop">
              <div class="modal-content">
                <h3>¡Registro Exitoso!</h3>
                <p>Los indicadores financieros han sido registrados correctamente.</p>
                <button type="button" (click)="cerrarModal()">Ok</button>
              </div>
            </div>
            }

          </form>
        </div>
      </div>
    </main>
</div>
<app-footer2></app-footer2>
</div>